import{a as xt,r as _t,_ as I,f as Qe,M as Ve,b as Je,c as wt,D as Ze,T as Me,d as Ct,m as Ne,E as ne,u as Ce,e as Le,g as Ot}from"./TitleSheet-a5a67f1e.js";import{aA as Pt,aB as Tt,aC as Vt,aD as kt,J as je,aE as At,aF as Mt,aG as jt,aH as Rt,aI as $t,aJ as Dt,av as Et,aK as It,aL as zt,aM as Bt,aN as Nt,aO as Lt,aP as qt,aQ as ge,aR as Ft,aS as Ut,c as C,aT as Gt,N as L,aU as et,D as Re,T as G,aV as Ht,aW as Kt,aX as Wt,aY as Yt,aZ as Xt,a_ as Qt,P as Q,x as d,a$ as Jt,b0 as Zt,z as K,b1 as ea,b2 as ta,b3 as aa,b4 as sa,b5 as na,b6 as oa,b7 as la,b8 as ra,b9 as ia,ba as ua,bb as ca,bc as da,bd as fa,be as va,bf as ma,bg as $e,bh as pa,bi as ga,bj as ba,bk as ha,bl as ya,i as le,bm as Sa,bn as xa,bo as _a,bp as wa,bq as Ca,br as Oa,bs as Pa,bt as Ta,bu as Va,bv as ka,bw as Aa,v as me,aw as Ma,U as ja,bx as Ra,by as tt,j as $a,au as at,k as Da,bz as Ea,h as Ia,bA as za,o as Ba,bB as Na,bC as La,bD as qa,bE as Fa,bF as Ua,bG as Ga,C as $,bH as Ha,d as st,bI as Ka,bJ as Wa,bK as Ya,a as Xa,bL as Qa,r as H,bM as Ja,bN as Za,K as nt,bO as es,bP as ot,bQ as ts,bR as as,bS as ss,bT as ns,bU as os,bV as ls,bW as rs,bX as is,bY as us,s as N,bZ as cs,b_ as ds,b$ as fs,Q as Y,c0 as vs,c1 as ms,c2 as ps,a3 as U,c3 as gs,c4 as bs,c5 as hs,c6 as ys,G as R,c7 as Ss,c8 as xs,c9 as _s,ca as ws,cb as Cs,cc as Os,cd as Ps,ce as Ts,cf as Vs,cg as ks,ch as As,ci as Ms,cj as js,ck as Rs,cl as $s,a0 as be,a4 as Ds,cm as Es,cn as Is,co as zs,E as S,cp as Bs,S as Ns,cq as Ls,cr as qs,cs as Fs,ct as Us,cu as he,p as re,a8 as De,ac as ye,n as ie,cv as Gs,F as oe,cw as Hs,Z as ke,cx as Ks,a5 as Ws,M as Ys,_ as J,ao as Ae,B as ue,R as Ee,cy as Xs,cz as Qs,cA as Js,cB as Zs,A as en,l as tn,cC as an,cD as sn,w as Ie,cE as nn,cF as on,cG as qe,ad as ln,aq as rn,ak as un,u as Fe,cH as cn,cI as Ue,cJ as dn,$ as fn,a9 as vn,q as mn,ah as pn,ag as gn,al as bn,b as hn,cK as yn}from"./index-29494f0e.js";import{V as Sn}from"./VToolbar-099efba1.js";import{V as xn}from"./VContainer-9544869a.js";const _n=()=>{},wn=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Pt,BaseTransitionPropsValidators:Tt,Comment:Vt,EffectScope:kt,Fragment:je,KeepAlive:At,ReactiveEffect:Mt,Static:jt,Suspense:Rt,Teleport:$t,Text:Dt,Transition:Et,TransitionGroup:It,VueElement:zt,assertNumber:Bt,callWithAsyncErrorHandling:Nt,callWithErrorHandling:Lt,camelize:qt,capitalize:ge,cloneVNode:Ft,compatUtils:Ut,compile:_n,computed:C,createApp:Gt,createBlock:L,createCommentVNode:et,createElementBlock:Re,createElementVNode:G,createHydrationRenderer:Ht,createPropsRestProxy:Kt,createRenderer:Wt,createSSRApp:Yt,createSlots:Xt,createStaticVNode:Qt,createTextVNode:Q,createVNode:d,customRef:Jt,defineAsyncComponent:Zt,defineComponent:K,defineCustomElement:ea,defineEmits:ta,defineExpose:aa,defineModel:sa,defineOptions:na,defineProps:oa,defineSSRCustomElement:la,defineSlots:ra,get devtools(){return ia},effect:ua,effectScope:ca,getCurrentInstance:da,getCurrentScope:fa,getTransitionRawChildren:va,guardReactiveProps:ma,h:$e,handleError:pa,hasInjectionContext:ga,hydrate:ba,initCustomFormatter:ha,initDirectivesForSSR:ya,inject:le,isMemoSame:Sa,isProxy:xa,isReactive:_a,isReadonly:wa,isRef:Ca,isRuntimeOnly:Oa,isShallow:Pa,isVNode:Ta,markRaw:Va,mergeDefaults:ka,mergeModels:Aa,mergeProps:me,nextTick:Ma,normalizeClass:ja,normalizeProps:Ra,normalizeStyle:tt,onActivated:$a,onBeforeMount:at,onBeforeUnmount:Da,onBeforeUpdate:Ea,onDeactivated:Ia,onErrorCaptured:za,onMounted:Ba,onRenderTracked:Na,onRenderTriggered:La,onScopeDispose:qa,onServerPrefetch:Fa,onUnmounted:Ua,onUpdated:Ga,openBlock:$,popScopeId:Ha,provide:st,proxyRefs:Ka,pushScopeId:Wa,queuePostFlushCb:Ya,reactive:Xa,readonly:Qa,ref:H,registerRuntimeCompiler:Ja,render:Za,renderList:nt,renderSlot:es,resolveComponent:ot,resolveDirective:ts,resolveDynamicComponent:as,resolveFilter:ss,resolveTransitionHooks:ns,setBlockTracking:os,setDevtoolsHook:ls,setTransitionHooks:rs,shallowReactive:is,shallowReadonly:us,shallowRef:N,ssrContextKey:cs,ssrUtils:ds,stop:fs,toDisplayString:Y,toHandlerKey:vs,toHandlers:ms,toRaw:ps,toRef:U,toRefs:gs,toValue:bs,transformVNodeArgs:hs,triggerRef:ys,unref:R,useAttrs:Ss,useCssModule:xs,useCssVars:_s,useModel:ws,useSSRContext:Cs,useSlots:Os,useTransitionState:Ps,vModelCheckbox:Ts,vModelDynamic:Vs,vModelRadio:ks,vModelSelect:As,vModelText:Ms,vShow:js,version:Rs,warn:$s,watch:be,watchEffect:Ds,watchPostEffect:Es,watchSyncEffect:Is,withAsyncContext:zs,withCtx:S,withDefaults:Bs,withDirectives:Ns,withKeys:Ls,withMemo:qs,withModifiers:Fs,withScopeId:Us},Symbol.toStringTag,{value:"Module"})),lt=(()=>he.reduce((e,l)=>(e[l]={type:[Boolean,String,Number],default:!1},e),{}))(),rt=(()=>he.reduce((e,l)=>{const s="offset"+ge(l);return e[s]={type:[String,Number],default:null},e},{}))(),it=(()=>he.reduce((e,l)=>{const s="order"+ge(l);return e[s]={type:[String,Number],default:null},e},{}))(),Ge={col:Object.keys(lt),offset:Object.keys(rt),order:Object.keys(it)};function Cn(e,l,s){let a=e;if(!(s==null||s===!1)){if(l){const t=l.replace(e,"");a+=`-${t}`}return e==="col"&&(a="v-"+a),e==="col"&&(s===""||s===!0)||(a+=`-${s}`),a.toLowerCase()}}const On=["auto","start","end","center","baseline","stretch"],Pn=re({cols:{type:[Boolean,String,Number],default:!1},...lt,offset:{type:[String,Number],default:null},...rt,order:{type:[String,Number],default:null},...it,alignSelf:{type:String,default:null,validator:e=>On.includes(e)},...De(),...ye()},"VCol"),z=ie()({name:"VCol",props:Pn(),setup(e,l){let{slots:s}=l;const a=C(()=>{const t=[];let n;for(n in Ge)Ge[n].forEach(r=>{const c=e[r],i=Cn(n,r,c);i&&t.push(i)});const o=t.some(r=>r.startsWith("v-col-"));return t.push({"v-col":!o||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t});return()=>{var t;return $e(e.tag,{class:[a.value,e.class],style:e.style},(t=s.default)==null?void 0:t.call(s))}}}),ze=["start","end","center"],ut=["space-between","space-around","space-evenly"];function Be(e,l){return he.reduce((s,a)=>{const t=e+ge(a);return s[t]=l(),s},{})}const Tn=[...ze,"baseline","stretch"],ct=e=>Tn.includes(e),dt=Be("align",()=>({type:String,default:null,validator:ct})),Vn=[...ze,...ut],ft=e=>Vn.includes(e),vt=Be("justify",()=>({type:String,default:null,validator:ft})),kn=[...ze,...ut,"stretch"],mt=e=>kn.includes(e),pt=Be("alignContent",()=>({type:String,default:null,validator:mt})),He={align:Object.keys(dt),justify:Object.keys(vt),alignContent:Object.keys(pt)},An={align:"align",justify:"justify",alignContent:"align-content"};function Mn(e,l,s){let a=An[e];if(s!=null){if(l){const t=l.replace(e,"");a+=`-${t}`}return a+=`-${s}`,a.toLowerCase()}}const jn=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ct},...dt,justify:{type:String,default:null,validator:ft},...vt,alignContent:{type:String,default:null,validator:mt},...pt,...De(),...ye()},"VRow"),pe=ie()({name:"VRow",props:jn(),setup(e,l){let{slots:s}=l;const a=C(()=>{const t=[];let n;for(n in He)He[n].forEach(o=>{const r=e[o],c=Mn(n,o,r);c&&t.push(c)});return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t});return()=>{var t;return $e(e.tag,{class:["v-row",a.value,e.class],style:e.style},(t=s.default)==null?void 0:t.call(s))}}}),Oe="HJptbB5zjMZviPPaVRsqKQ",gt=xt.create({baseURL:"/api"});_t(gt);const Rn=async e=>{const l=await gt.get("/products.json"),s=new Set(e);return l.data.filter(t=>s.has(t.id))},$n="knDsZOTYLhVg7IInYFcgUw_",Dn=(e="")=>$n+e.toString().replace(/[\s\-]/g,"_"),En=K({__name:"TimePicker",props:{modelValue:{},id:{},multiple:{type:Boolean,default:!1},title:{},min:{},max:{}},emits:["update:modelValue"],setup(e,{emit:l}){const s=Gs(),a=l,t=e,n=H(!1),o=C(()=>Dn(t.id||I.uniqueId())),r=C(()=>!t.modelValue||t.modelValue.length===0?"":t.modelValue.map(c=>s.format(c,"normalDateWithWeekday")).join(" - "));return(c,i)=>{const m=ot("v-date-picker");return $(),Re(je,null,[d(Hs,{title:t.title,readonly:"",variant:"solo","hide-details":"",flat:"","model-value":r.value},{"append-inner":S(()=>[d(oe,{id:o.value,elevation:"0",variant:"text",icon:"ms:arrow_drop_down"},null,8,["id"])]),_:1},8,["title","model-value"]),d(Ys,{activator:"#"+o.value,"close-on-content-click":!1,"model-value":n.value,"onUpdate:modelValue":i[5]||(i[5]=u=>n.value=u)},{default:S(()=>[d(ke,{elevation:"12",rounded:"lg"},{default:S(()=>[d(Sn,null,{default:S(()=>[d(Ks),d(Ws,{defaults:{VBtn:{class:"mx-1"}}},{default:S(()=>[d(oe,{"prepend-icon":"ms:clear",variant:"flat",onClick:i[0]||(i[0]=u=>a("update:modelValue",[]))},{default:S(()=>[Q(" Deselect All ")]),_:1}),d(oe,{icon:"ms:close",onClick:i[1]||(i[1]=u=>n.value=!1)})]),_:1})]),_:1}),d(m,{multiple:t.multiple,elevation:"0","model-value":t.modelValue,min:t.min,max:t.max,"onUpdate:modelValue":i[2]||(i[2]=u=>a("update:modelValue",u)),"onClick:save":i[3]||(i[3]=u=>n.value=!1),"onClick:cancel":i[4]||(i[4]=u=>n.value=!1)},null,8,["multiple","model-value","min","max"])]),_:1})]),_:1},8,["activator","model-value"])],64)}}}),In={},zn={styles:In},Bn=J(En,[["__cssModules",zn]]),Nn={class:"text-h6 text-uppercase"},Ln={class:"py-2",style:{"font-size":"x-large"}},qn=K({__name:"DashboardInsight",props:{title:{default:"TITLE"},value:{default:3140},icon:{default:"md:emoji_emotions"},bgColor:{default:"surface"},iconColor:{default:"primary"},iconSize:{default:45},width:{default:"100%"}},setup(e){const l=e;return(s,a)=>($(),L(ke,{elevation:"2",color:l.bgColor,class:"pa-5",width:l.width,rounded:"lg"},{default:S(()=>[d(pe,{"no-gutters":""},{default:S(()=>[d(z,{cols:"9"},{default:S(()=>[G("h3",Nn,Y(l.title),1),G("p",Ln,[G("strong",null,Y(R(Qe)(l.value)),1)])]),_:1}),d(z,{cols:"3",class:"d-flex justify-end align-start"},{default:S(()=>[d(ke,{color:l.iconColor,width:l.iconSize,height:l.iconSize,class:"d-flex justify-center align-center rounded-circle"},{default:S(()=>[d(Ae,{icon:l.icon,size:Math.round(l.iconSize/1.618),color:l.bgColor},null,8,["icon","size","color"])]),_:1},8,["color","width","height"])]),_:1})]),_:1})]),_:1},8,["color","width"]))}}),Fn={},Un={styles:Fn},Pe=J(qn,[["__cssModules",Un]]),ce=Symbol(),Gn=["productName","quantitySold"],Hn=[{key:"day",value:Ve},{key:"week",value:Je},{key:"month",value:wt}],Te="pages.dashboard.insights",Kn=K({__name:"Insights",setup(e){const{t:l}=ue(),{recentOrders:s}=le(ce),a=C(()=>{const t=s.value.length;let n=0,o=0;for(const c of s.value)n+=c.totalAmount,o+=I.sumBy(c.items,"quantity");return{totalSales:n,totalOrdersSold:t,quantityOfProductsSold:o}});return(t,n)=>($(),L(pe,null,{default:S(()=>[d(z,{cols:"12",md:"4"},{default:S(()=>[d(Pe,{title:R(l)(Te+".totalSales.title"),value:a.value.totalSales,icon:"ms:attach_money"},null,8,["title","value"])]),_:1}),d(z,{cols:"12",md:"4"},{default:S(()=>[d(Pe,{title:R(l)(Te+".totalOrdersSold.title"),value:a.value.totalOrdersSold,icon:"ms:receipt_long"},null,8,["title","value"])]),_:1}),d(z,{cols:"12",md:"4"},{default:S(()=>[d(Pe,{title:R(l)(Te+".quantityOfProductsSold.title"),value:a.value.quantityOfProductsSold,icon:"ms:stack"},null,8,["title","value"])]),_:1})]),_:1}))}}),Wn={},Yn={styles:Wn},Xn=J(Kn,[["__cssModules",Yn]]),Qn=K({__name:"RecentOrdersTable",setup(e){const{t:l}=ue(),{recentOrders:s}=le(ce),a=H(1),t=C(()=>{const o=["id","discount","totalAmount","createdAt"],r=["start","end","end","start"];return o.map((c,i)=>({key:c,title:l(`tables.orders.headers.${c}`),align:r[i]}))}),n=C(()=>s.value.map(o=>({...o,totalAmount:Qe(o.totalAmount),discount:Ct(o.discount),createdAt:Ne(o.createdAt),updatedAt:Ne(o.updatedAt)})));return(o,r)=>($(),L(Me,null,{title:S(()=>[Q(" Recent Orders ")]),default:S(()=>[d(Ze,{"fixed-header":"",headers:t.value,items:n.value,"item-value":"id","item-per-page":5,page:a.value,"onUpdate:page":r[0]||(r[0]=c=>a.value=c),"cell-single-line":""},null,8,["headers","items","page"])]),_:1}))}}),Jn={},Zn={styles:Jn},eo=J(Qn,[["__cssModules",Zn]]),to={class:"d-block text-right pr-1",style:{width:"60px"}},ao={class:"d-block w-100"},Ke="pages.dashboard.bestSellingProducts",so=K({__name:"BestSellingProducts",setup(e){const{mdAndDown:l}=Ee(),{t:s}=ue(),{recentOrders:a,bestSellingProductIds:t,bestSellingProducts:n}=le(ce),o=H(1),r=C(()=>{const m=l.value?void 0:"110px";return Gn.map(u=>({key:u,title:s(`${Ke}.headers.${u}`),align:"start",maxWidth:m}))}),c=C(()=>{if(a.value==null||a.value.length===0)return ne;const m=a.value.reduce((p,w)=>(p.push(...w.items),p),[]),u=Object.entries(I.groupBy(m,"productId")).map(([p,w])=>{const T=w.reduce((b,O)=>b+O.quantity,0);return{productId:p,quantitySold:T}});u.sort((p,w)=>p.quantitySold>w.quantitySold?-1:p.quantitySold<w.quantitySold?1:0);const f=u[0].quantitySold;return u.map(p=>({...p,productName:"Loading..",percent:I.round(p.quantitySold*100/f,2)}))}),i=C(()=>{if(c.value.length===0)return ne;if(n.value==null||n.value.length===0)return ne;const m=n.value.reduce((u,f)=>(u[f.id]=f,u),{});return c.value.map(u=>{var f;return{...u,productName:((f=m[u.productId])==null?void 0:f.name)||"[undefined] "+u.productId}})});return be(c,m=>{const u=m.map(f=>f.productId);t.value=u}),(m,u)=>($(),L(Me,null,{title:S(()=>[Q(Y(R(s)(Ke+".title")),1)]),default:S(()=>[d(Ze,{headers:r.value,items:i.value,"item-per-page":5,"cell-single-line":"",page:o.value,"onUpdate:page":u[0]||(u[0]=f=>o.value=f),"item-value":"productId"},{quantitySold:S(({data:f,value:h})=>[G("div",{class:"d-flex justify-start align-center w-100",style:tt({minWidth:R(l)?"300px":void 0})},[G("div",to,Y(h),1),G("div",ao,[d(Xs,{"model-value":f.percent,height:"10",color:"primary",rounded:""},null,8,["model-value"])])],4)]),_:1},8,["headers","items","page"])]),_:1}))}}),no={},oo={styles:no},lo=J(so,[["__cssModules",oo]]);var bt={exports:{}};const ro=Qs(wn);(function(e){e.exports=function(l){var s={};function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return l[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=l,a.c=s,a.d=function(t,n,o){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},a.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(n&1&&(t=a(t)),n&8||n&4&&typeof t=="object"&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),n&2&&typeof t!="string")for(var r in t)a.d(o,r,(function(c){return t[c]}).bind(null,r));return o},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s="fb15")}({"8bbf":function(l,s){l.exports=ro},"95e6":function(l,s){l.exports=Js},fb15:function(l,s,a){if(a.r(s),typeof window<"u"){var t=window.document.currentScript,n=t&&t.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(a.p=n[1])}var o=a("8bbf"),r=a("95e6"),c=a.n(r);const i=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"];var u=Object(o.defineComponent)({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:i,setup(p,{emit:w}){const T=Object(o.ref)(null),b=Object(o.ref)(null),O=v=>v&&typeof v=="object"&&!Array.isArray(v)&&v!=null,k=(v,y)=>{typeof Object.assign!="function"&&function(){Object.assign=function(P){if(P==null)throw new TypeError("Cannot convert undefined or null to object");let ve=Object(P);for(let _e=1;_e<arguments.length;_e++){let se=arguments[_e];if(se!=null)for(let we in se)se.hasOwnProperty(we)&&(ve[we]=se[we])}return ve}}();let B=Object.assign({},v);return O(v)&&O(y)&&Object.keys(y).forEach(P=>{O(y[P])?P in v?B[P]=k(v[P],y[P]):Object.assign(B,{[P]:y[P]}):Object.assign(B,{[P]:y[P]})}),B},_=async()=>{if(await Object(o.nextTick)(),b.value)return;const v={chart:{type:p.type||p.options.chart.type||"line",height:p.height,width:p.width,events:{}},series:p.series};i.forEach(B=>{let P=(...ve)=>w(B,...ve);v.chart.events[B]=P});const y=k(p.options,v);return b.value=new c.a(T.value,y),b.value.render()},A=()=>(j(),_()),j=()=>{b.value.destroy()},D=(v,y)=>b.value.updateSeries(v,y),q=(v,y,B,P)=>b.value.updateOptions(v,y,B,P),Z=v=>b.value.toggleSeries(v),E=v=>{b.value.showSeries(v)},ee=v=>{b.value.hideSeries(v)},de=(v,y)=>b.value.appendSeries(v,y),V=()=>{b.value.resetSeries()},W=(v,y)=>{b.value.toggleDataPointSelection(v,y)},X=v=>b.value.appendData(v),te=(v,y)=>b.value.zoomX(v,y),ae=v=>b.value.dataURI(v),Se=v=>b.value.setLocale(v),xe=(v,y)=>{b.value.addXaxisAnnotation(v,y)},g=(v,y)=>{b.value.addYaxisAnnotation(v,y)},x=(v,y)=>{b.value.addPointAnnotation(v,y)},M=(v,y)=>{b.value.removeAnnotation(v,y)},fe=()=>{b.value.clearAnnotations()};Object(o.onBeforeMount)(()=>{window.ApexCharts=c.a}),Object(o.onMounted)(()=>{T.value=Object(o.getCurrentInstance)().proxy.$el,_()}),Object(o.onBeforeUnmount)(()=>{b.value&&j()});const F=Object(o.toRefs)(p);return Object(o.watch)(F.options,()=>{!b.value&&p.options?_():b.value.updateOptions(p.options)}),Object(o.watch)(F.series,()=>{!b.value&&p.series?_():b.value.updateSeries(p.series)},{deep:!0}),Object(o.watch)(F.type,()=>{A()}),Object(o.watch)(F.width,()=>{A()}),Object(o.watch)(F.height,()=>{A()}),{chart:b,init:_,refresh:A,destroy:j,updateOptions:q,updateSeries:D,toggleSeries:Z,showSeries:E,hideSeries:ee,resetSeries:V,zoomX:te,toggleDataPointSelection:W,appendData:X,appendSeries:de,addXaxisAnnotation:xe,addYaxisAnnotation:g,addPointAnnotation:x,removeAnnotation:M,clearAnnotations:fe,setLocale:Se,dataURI:ae}},render(){return Object(o.h)("div",{class:"vue-apexcharts"})}});const f=p=>{p.component(u.name,u)};u.install=f;var h=u;s.default=h}})})(bt);var io=bt.exports;const uo=Zs(io),co={class:"d-block w-100",style:{color:"#222 !important"}},fo="pages.dashboard.salesOverview",vo=K({__name:"SalesOverview",setup(e){const{recentOrders:l,timeGroup:s}=le(ce),a=en(),{mdAndUp:t}=Ee(),{t:n}=ue(),o=C(()=>{const i=l.value,m=s.value;if(i.length===0)return null;const u=I.groupBy(i,_=>Math.floor(_.createdAt/m)),f=I.minBy(l.value,"createdAt"),h=I.maxBy(l.value,"createdAt"),p=Math.floor(f.createdAt/m),w=Math.floor(h.createdAt/m),T=[];for(let _=p;_<=w;_++)T.push(_);const{incomeData:b,quantityOrderedData:O}=T.reduce((_,A)=>{const j=u[A];return j?(_.incomeData.push(I.round(I.sumBy(j,"totalAmount"),1)),_.quantityOrderedData.push(j.length)):(_.incomeData.push(0),_.quantityOrderedData.push(0)),_},{incomeData:[],quantityOrderedData:[]});return{categories:T.map(_=>_*m),incomeData:b,quantityOrderedData:O}}),r=C(()=>{if(o.value==null)return null;const i=["Income","Quantity Ordered"],m=a.current.value.colors,{categories:u,incomeData:f,quantityOrderedData:h}=o.value,p={chart:{height:350,stacked:!1},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{type:"datetime",categories:u},yaxis:[{seriesName:i[0],axisTicks:{show:!0},axisBorder:{show:!0,width:3},title:{text:i[0]},tooltip:{enabled:!0}},{seriesName:i[1],opposite:!0,axisTicks:{show:!0},axisBorder:{show:!0,width:3},title:{text:i[1]}}],fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:1,opacityFrom:.5,opacityTo:0,stops:[0,95,100]}},colors:[m.primary,m.secondary],tooltip:{enabled:t.value}},w=[{name:i[0],type:"area",data:f},{name:i[1],type:"column",data:h}];return{options:p,series:w}}),c={title:n(fo+".title")};return(i,m)=>($(),L(Me,{"content-min-width":"700px"},{title:S(()=>[Q(Y(c.title),1)]),default:S(()=>[G("div",co,[r.value?($(),L(R(uo),{key:0,height:"350",options:r.value.options,series:r.value.series},null,8,["options","series"])):et("",!0)])]),_:1}))}});const ht=Symbol.for("vuetify:v-tabs"),mo=re({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...tn(an({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),yt=ie()({name:"VTab",props:mo(),setup(e,l){let{slots:s,attrs:a}=l;const{textColorClasses:t,textColorStyles:n}=sn(e,"sliderColor"),o=C(()=>e.direction==="horizontal"),r=N(!1),c=H(),i=H();function m(u){var h,p;let{value:f}=u;if(r.value=f,f){const w=(p=(h=c.value)==null?void 0:h.$el.parentElement)==null?void 0:p.querySelector(".v-tab--selected .v-tab__slider"),T=i.value;if(!w||!T)return;const b=getComputedStyle(w).color,O=w.getBoundingClientRect(),k=T.getBoundingClientRect(),_=o.value?"x":"y",A=o.value?"X":"Y",j=o.value?"right":"bottom",D=o.value?"width":"height",q=O[_],Z=k[_],E=q>Z?O[j]-k[j]:O[_]-k[_],ee=Math.sign(E)>0?o.value?"right":"bottom":Math.sign(E)<0?o.value?"left":"top":"center",V=(Math.abs(E)+(Math.sign(E)<0?O[D]:k[D]))/Math.max(O[D],k[D])||0,W=O[D]/k[D]||0,X=1.5;nn(T,{backgroundColor:[b,"currentcolor"],transform:[`translate${A}(${E}px) scale${A}(${W})`,`translate${A}(${E/X}px) scale${A}(${(V-1)/X+1})`,"none"],transformOrigin:Array(3).fill(ee)},{duration:225,easing:on})}}return Ie(()=>{const[u]=oe.filterProps(e);return d(oe,me({symbol:ht,ref:c,class:["v-tab",e.class],style:e.style,tabindex:r.value?0:-1,role:"tab","aria-selected":String(r.value),active:!1},u,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":m}),{default:()=>{var f;return[((f=s.default)==null?void 0:f.call(s))??e.text,!e.hideSlider&&d("div",{ref:i,class:["v-tab__slider",t.value],style:n.value},null)]}})}),{}}});function We(e){const s=Math.abs(e);return Math.sign(e)*(s/((1/.501-2)*(1-s)+1))}function Ye(e){let{selectedElement:l,containerSize:s,contentSize:a,isRtl:t,currentScrollOffset:n,isHorizontal:o}=e;const r=o?l.clientWidth:l.clientHeight,c=o?l.offsetLeft:l.offsetTop,i=t&&o?a-c-r:c,m=s+n,u=r+i,f=r*.4;return i<=n?n=Math.max(i-f,0):m<=u&&(n=Math.min(n-(m-u-f),a-s)),n}function po(e){let{selectedElement:l,containerSize:s,contentSize:a,isRtl:t,isHorizontal:n}=e;const o=n?l.clientWidth:l.clientHeight,r=n?l.offsetLeft:l.offsetTop,c=t&&n?a-r-o/2-s/2:r+o/2-s/2;return Math.min(a-s,Math.max(0,c))}const go=Symbol.for("vuetify:v-slide-group"),St=re({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:go},nextIcon:{type:qe,default:"$next"},prevIcon:{type:qe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...De(),...ye(),...ln({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Xe=ie()({name:"VSlideGroup",props:St(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:s}=l;const{isRtl:a}=rn(),{mobile:t}=Ee(),n=un(e,e.symbol),o=N(!1),r=N(0),c=N(0),i=N(0),m=C(()=>e.direction==="horizontal"),{resizeRef:u,contentRect:f}=Fe(),{resizeRef:h,contentRect:p}=Fe(),w=C(()=>n.selected.value.length?n.items.value.findIndex(g=>g.id===n.selected.value[0]):-1),T=C(()=>n.selected.value.length?n.items.value.findIndex(g=>g.id===n.selected.value[n.selected.value.length-1]):-1);if(cn){let g=-1;be(()=>[n.selected.value,f.value,p.value,m.value],()=>{cancelAnimationFrame(g),g=requestAnimationFrame(()=>{if(f.value&&p.value){const x=m.value?"width":"height";c.value=f.value[x],i.value=p.value[x],o.value=c.value+1<i.value}if(w.value>=0&&h.value){const x=h.value.children[T.value];w.value===0||!o.value?r.value=0:e.centerActive?r.value=po({selectedElement:x,containerSize:c.value,contentSize:i.value,isRtl:a.value,isHorizontal:m.value}):o.value&&(r.value=Ye({selectedElement:x,containerSize:c.value,contentSize:i.value,isRtl:a.value,currentScrollOffset:r.value,isHorizontal:m.value}))}})})}const b=N(!1);let O=0,k=0;function _(g){const x=m.value?"clientX":"clientY";k=(a.value&&m.value?-1:1)*r.value,O=g.touches[0][x],b.value=!0}function A(g){if(!o.value)return;const x=m.value?"clientX":"clientY",M=a.value&&m.value?-1:1;r.value=M*(k+O-g.touches[0][x])}function j(g){const x=i.value-c.value;r.value<0||!o.value?r.value=0:r.value>=x&&(r.value=x),b.value=!1}function D(){u.value&&(u.value[m.value?"scrollLeft":"scrollTop"]=0)}const q=N(!1);function Z(g){if(q.value=!0,!(!o.value||!h.value)){for(const x of g.composedPath())for(const M of h.value.children)if(M===x){r.value=Ye({selectedElement:M,containerSize:c.value,contentSize:i.value,isRtl:a.value,currentScrollOffset:r.value,isHorizontal:m.value});return}}}function E(g){q.value=!1}function ee(g){var x;!q.value&&!(g.relatedTarget&&((x=h.value)!=null&&x.contains(g.relatedTarget)))&&V()}function de(g){h.value&&(m.value?g.key==="ArrowRight"?V(a.value?"prev":"next"):g.key==="ArrowLeft"&&V(a.value?"next":"prev"):g.key==="ArrowDown"?V("next"):g.key==="ArrowUp"&&V("prev"),g.key==="Home"?V("first"):g.key==="End"&&V("last"))}function V(g){var x,M,fe,F,v;if(h.value)if(!g)(x=dn(h.value)[0])==null||x.focus();else if(g==="next"){const y=(M=h.value.querySelector(":focus"))==null?void 0:M.nextElementSibling;y?y.focus():V("first")}else if(g==="prev"){const y=(fe=h.value.querySelector(":focus"))==null?void 0:fe.previousElementSibling;y?y.focus():V("last")}else g==="first"?(F=h.value.firstElementChild)==null||F.focus():g==="last"&&((v=h.value.lastElementChild)==null||v.focus())}function W(g){const x=r.value+(g==="prev"?-1:1)*c.value;r.value=fn(x,0,i.value-c.value)}const X=C(()=>{let g=r.value>i.value-c.value?-(i.value-c.value)+We(i.value-c.value-r.value):-r.value;r.value<=0&&(g=We(-r.value));const x=a.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${x*g}px)`,transition:b.value?"none":"",willChange:b.value?"transform":""}}),te=C(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),ae=C(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!t.value;case!0:return o.value||Math.abs(r.value)>0;case"mobile":return t.value||o.value||Math.abs(r.value)>0;default:return!t.value&&(o.value||Math.abs(r.value)>0)}}),Se=C(()=>Math.abs(r.value)>0),xe=C(()=>i.value>Math.abs(r.value)+c.value);return Ie(()=>d(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":ae.value,"v-slide-group--is-overflowing":o.value},e.class],style:e.style,tabindex:q.value||n.selected.value.length?-1:0,onFocus:ee},{default:()=>{var g,x,M;return[ae.value&&d("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Se.value}],onClick:()=>W("prev")},[((g=s.prev)==null?void 0:g.call(s,te.value))??d(Ue,null,{default:()=>[d(Ae,{icon:a.value?e.nextIcon:e.prevIcon},null)]})]),d("div",{key:"container",ref:u,class:"v-slide-group__container",onScroll:D},[d("div",{ref:h,class:"v-slide-group__content",style:X.value,onTouchstartPassive:_,onTouchmovePassive:A,onTouchendPassive:j,onFocusin:Z,onFocusout:E,onKeydown:de},[(x=s.default)==null?void 0:x.call(s,te.value)])]),ae.value&&d("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!xe.value}],onClick:()=>W("next")},[((M=s.next)==null?void 0:M.call(s,te.value))??d(Ue,null,{default:()=>[d(Ae,{icon:a.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:W,scrollOffset:r,focus:V}}});function bo(e){return e?e.map(l=>yn(l)?l:{text:l,value:l}):[]}const ho=re({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...St({mandatory:"force"}),...vn(),...ye()},"VTabs"),yo=ie()({name:"VTabs",props:ho(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:s}=l;const a=mn(e,"modelValue"),t=C(()=>bo(e.items)),{densityClasses:n}=pn(e),{backgroundColorClasses:o,backgroundColorStyles:r}=gn(U(e,"bgColor"));return bn({VTab:{color:U(e,"color"),direction:U(e,"direction"),stacked:U(e,"stacked"),fixed:U(e,"fixedTabs"),sliderColor:U(e,"sliderColor"),hideSlider:U(e,"hideSlider")}}),Ie(()=>{const[c]=Xe.filterProps(e);return d(Xe,me(c,{modelValue:a.value,"onUpdate:modelValue":i=>a.value=i,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},n.value,o.value,e.class],style:[{"--v-tabs-height":hn(e.height)},r.value,e.style],role:"tablist",symbol:ht}),{default:()=>[s.default?s.default():t.value.map(i=>d(yt,me(i,{key:i.text}),null))]})}),{}}}),So="pages.dashboard",xo=K({__name:"DashboardPage",setup(e){const{t:l}=ue(),s=N(null),a=H([]),t=H(Ve),n=async()=>{switch(a.value.length){case 0:return[];case 1:{const u=a.value[0],f=new Date(u.getTime()+Ve);return Le({from:u,to:f})}case 2:{const[u,f]=a.value;return Le({from:u,to:f})}default:return console.error(""),[]}},o=async()=>s.value==null?null:await Rn(s.value),r=async()=>{const{min:u,max:f}=await Ot();return{min:new Date(u).toJSON().split("T")[0],max:new Date(f).toJSON().split("T")[0]}},{data:c}=Ce({queryKey:[Oe,"recent-orders",a],queryFn:n,initialData:ne}),{data:i}=Ce({queryKey:[Oe,"best-selling-products",s],queryFn:o,initialData:null}),{data:m}=Ce({queryKey:[Oe,"time-range"],queryFn:r,refetchOnWindowFocus:!1});return be(m,u=>{if(!u){a.value=ne;return}const{min:f,max:h}=u,p=new Date(f).getTime(),w=new Date(h).getTime(),T=I.clamp(w-Je*2,p,w);a.value=[new Date(T),new Date(w)]},{immediate:!0}),st(ce,{recentOrders:c,bestSellingProductIds:s,bestSellingProducts:i,timeGroup:t}),at(()=>{document.title=l("title.dashboard")}),(u,f)=>($(),L(xn,null,{default:S(()=>[d(pe,null,{default:S(()=>[d(z,{cols:"12",md:"6",lg:"8",xl:"9"},{default:S(()=>[d(yo,{"align-tabs":"center","fixed-tabs":"",color:"primary",modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=h=>t.value=h)},{default:S(()=>[($(!0),Re(je,null,nt(R(Hn),h=>($(),L(yt,{key:h.key,value:h.value},{default:S(()=>[Q(Y(R(l)(`${So}.tabs.${h.key}`)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),d(z,{cols:"12",md:"6",lg:"4",xl:"3"},{default:S(()=>{var h,p;return[d(Bn,{title:"Period Range","model-value":a.value,"onUpdate:modelValue":f[1]||(f[1]=w=>a.value=w),min:(h=R(m))==null?void 0:h.min,max:(p=R(m))==null?void 0:p.max,multiple:""},null,8,["model-value","min","max"])]}),_:1})]),_:1}),d(Xn),d(pe,null,{default:S(()=>[d(z,{cols:"12"},{default:S(()=>[d(vo)]),_:1}),d(z,{cols:"12",lg:"8",xl:"7"},{default:S(()=>[d(eo)]),_:1}),d(z,{cols:"12",lg:"4",xl:"5"},{default:S(()=>[d(lo)]),_:1})]),_:1})]),_:1}))}}),_o={},wo={styles:_o},Vo=J(xo,[["__cssModules",wo]]);export{Vo as default};
